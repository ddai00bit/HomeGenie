var HG=HG||{};HG.Automation=HG.Automation||{},HG.Automation.Macro=HG.Automation.Macro||new function(){var e=this;e.Record=function(){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Macro.Record/",type:"GET"})},e.Save=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Macro.Save/"+e+"/",type:"GET",dataType:"text",success:function(e){t(e)}})},e.Discard=function(){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Macro.Discard/",type:"GET"})},e.SetDelay=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Macro.SetDelay/"+e+"/"+t,type:"GET"})},e.GetDelay=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Macro.GetDelay/",type:"GET",success:function(t){e(t)},error:function(t){console.log("HG.Automation.Macro.GetDelay ERROR: "+t.status+":"+t.statusText),e()}})}},HG.Automation.Programs=HG.Automation.Programs||new function(){var $$=this;$$.List=function(callback){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.List/",function(data){HG.WebApp.Data.Programs=eval(arguments[2].responseText),callback()})},$$.AddProgram=function(e,t,a){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Add/"+e+"/",type:"POST",data:t,success:function(e){"undefined"!=typeof e.ResponseValue&&(e=e.ResponseValue),a(e)},error:function(){alert("A problem ocurred")}})},$$.DeleteProgram=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Delete/"+e+"/",type:"GET",success:function(){t()},error:function(){alert("A problem ocurred")}})},$$.Run=function(e,t,a){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Run/"+e+"/"+t,type:"GET",success:function(e){"undefined"!=typeof a&&a(e)},error:function(){"undefined"!=typeof a&&a(null)}})},$$.Toggle=function(e,t,a){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Toggle/"+e+"/"+t,type:"GET",success:function(e){"undefined"!=typeof a&&a(e)},error:function(){"undefined"!=typeof a&&a(null)}})},$$.ArduinoFileLoad=function(e,t,a){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Arduino.FileLoad/"+e+"/"+t,type:"GET",success:function(e){"undefined"!=typeof e.ResponseValue&&(e=e.ResponseValue),"undefined"!=typeof a&&a(unescape(e))},error:function(){"undefined"!=typeof a&&a(null)}})},$$.ArduinoFileAdd=function(e,t,a){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Arduino.FileAdd/"+e+"/"+t,type:"GET",success:function(e){"undefined"!=typeof e.ResponseValue&&(e=e.ResponseValue),"undefined"!=typeof a&&a(unescape(e))},error:function(){"undefined"!=typeof a&&a(null)}})},$$.ArduinoFileDelete=function(e,t,a){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Arduino.FileDelete/"+e+"/"+t,type:"GET",success:function(e){"undefined"!=typeof e.ResponseValue&&(e=e.ResponseValue),"undefined"!=typeof a&&a(unescape(e))},error:function(){"undefined"!=typeof a&&a(null)}})},$$.ArduinoFileSave=function(e,t,a,n){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Arduino.FileSave/"+e+"/"+t,type:"POST",data:a,success:function(e){"undefined"!=typeof e.ResponseValue&&(e=e.ResponseValue),"undefined"!=typeof n&&n(unescape(e))},error:function(){"undefined"!=typeof n&&n(null)}})},$$.ArduinoFileList=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Programs.Arduino.FileList/"+e,type:"GET",success:function(e){"undefined"!=typeof t&&t(e)},error:function(){"undefined"!=typeof t&&t(null)}})}},HG.Automation.Scheduling=HG.Automation.Scheduling||new function(){var e=this;e.Get=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Scheduling.Get/"+encodeURIComponent(e),type:"GET",success:function(e){"undefined"!=typeof t&&t(e)}})},e.Update=function(e,t,a,n,o,i){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Scheduling.Update/"+encodeURIComponent(e),type:"POST",dataType:"text",data:JSON.stringify({Name:e,CronExpression:t,Data:a,Description:n,Script:o}),success:function(e){"undefined"!=typeof i&&i(e)}})},e.Delete=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Scheduling.Delete/"+encodeURIComponent(e),type:"GET",dataType:"text",success:function(e){"undefined"!=typeof t&&t(e)}})},e.Enable=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Scheduling.Enable/"+encodeURIComponent(e),type:"GET",dataType:"text",success:function(e){"undefined"!=typeof t&&t(e)}})},e.Disable=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Scheduling.Disable/"+encodeURIComponent(e),type:"GET",dataType:"text",success:function(e){"undefined"!=typeof t&&t(e)}})},e.List=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Automation/Scheduling.List/",type:"GET",success:function(t){"undefined"!=typeof e&&e(t)}})}},HG.Configure=HG.Configure||new function(){var e=this;e.LoadData=function(t){e.Modules.List(function(a){try{HG.WebApp.Data.Modules=a}catch(n){console.log(n)}HG.Automation.Programs.List(function(){e.Groups.List("Control",function(){null!=t&&t()})})})}},HG.Configure.Groups=HG.Configure.Groups||new function(){var $$=this;$$.ModulesList=function(e,t){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.ModulesList/"+e+"/",function(e){t(e)})},$$.List=function(e,t){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.List/"+e+"/",function(a){"Automation"==e?HG.WebApp.Data.AutomationGroups=a:HG.WebApp.Data.Groups=a,t()})},$$.Sort=function(e,t,a){$.ajax({type:"POST",url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.Sort/"+e+"/",data:t,success:function(e){a(e)},error:function(){alert("A problem ocurred")}})},$$.SortModules=function(e,t,a,n){$.ajax({type:"POST",url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.SortModules/"+e+"/"+t+"/",data:a,success:function(e){n(e)},error:function(){alert("A problem ocurred")}})},$$.RenameGroup=function(e,t,a,n){$.ajax({type:"POST",url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.Rename/"+e+"/"+t+"/",data:a,success:function(e){n(e)},error:function(){alert("Error.\nThere is aready a group with this name.")}})},$$.AddGroup=function(e,t,a){$.ajax({type:"POST",url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.Add/"+e+"/",data:t,success:function(){a()},error:function(){alert("A problem ocurred")}})},$$.DeleteGroup=function(e,t,a){$.ajax({type:"POST",url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.Delete/"+e+"/",data:t,success:function(){a()},error:function(){alert("A problem ocurred")}})},$$.GetGroupModules=function(e){var t={Index:0,Name:e,Modules:Array()},a=$$.GetGroupByName(e);t.Index=a.Index;for(var n=0;n<a.Modules.length;n++){for(var o=!1,i=0;i<HG.WebApp.Data.Modules.length;i++)if(HG.WebApp.Data.Modules[i].Domain==a.Modules[n].Domain&&HG.WebApp.Data.Modules[i].Address==a.Modules[n].Address){t.Modules.push(HG.WebApp.Data.Modules[i]),o=!0;break}o||t.Modules.push(a.Modules[n])}return t},$$.GetGroupByName=function(e){for(var t=null,a=0;a<HG.WebApp.Data.Groups.length;a++)if(HG.WebApp.Data.Groups[a].Name==e){t=HG.WebApp.Data.Groups[a],t.Index=a;break}return t},$$.WallpaperList=function(callback){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.WallpaperList/",function(data){HG.WebApp.Data.Wallpapers=eval(arguments[2].responseText),callback(HG.WebApp.Data.Wallpapers)})},$$.WallpaperSet=function(e,t,a){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.WallpaperSet/"+encodeURIComponent(e)+"/"+encodeURIComponent(t)+"/",function(){a()})},$$.WallpaperDelete=function(e,t){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Groups.WallpaperDelete/"+encodeURIComponent(e)+"/",function(){t()})}},HG.Configure.Interfaces=HG.Configure.Interfaces||new function(){var e=this;e.ServiceCall=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Interfaces.Configure/"+e+"/",type:"GET",success:function(e){t(e)}})},e.ListConfig=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Interfaces.ListConfig/",type:"GET",success:function(t){"undefined"!=typeof e&&null!=e&&e(t)}})}},HG.Configure.MIG=HG.Configure.MIG||new function(){var e=this;e.InterfaceCommand=function(e,t,a,n,o){$.get("/"+HG.WebApp.Data.ServiceKey+"/MIGService.Interfaces/"+e+"/"+t+"/"+a+"/"+n+"/",function(e){o&&o(e)})}},HG.Configure.Modules=HG.Configure.Modules||new function(){var e=this;e.List=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Modules.List/",type:"GET",success:function(t){"undefined"!=typeof e&&null!=e&&e(t)}})},e.Get=function(e,t,a){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Modules.Get/"+e+"/"+t+"/",type:"GET",dataType:"text",success:function(e){"undefined"!=typeof a&&null!=a&&a(e)}})},e.Delete=function(e,t,a){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Modules.Delete/"+e+"/"+t+"/",type:"GET",success:function(e){"undefined"!=typeof a&&null!=a&&a(e)}})},e.RoutingReset=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Modules.RoutingReset/",type:"GET",success:function(t){"undefined"!=typeof e&&null!=e&&e(t)}})},e.ParameterSet=function(e,t,a,n,o){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Modules.ParameterSet/"+e+"/"+t+"/"+a+"/"+encodeURIComponent(n),type:"GET",success:function(e){"undefined"!=typeof o&&null!=o&&o(e)}})}},HG.Configure.Stores=HG.Configure.Stores||new function(){var e=this;e.ItemGet=function(e,t,a,n,o){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Stores.ItemGet/"+e+"/"+t+"/"+a+"/"+n+"/",type:"GET",success:function(e){"undefined"!=typeof o&&null!=o&&o(e)}})},e.ItemSet=function(e,t,a,n,o,i){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Stores.ItemSet/"+e+"/"+t+"/"+a+"/"+n+"/",type:"POST",data:o,success:function(e){"undefined"!=typeof i&&null!=i&&i(e)}})},e.ItemDelete=function(e,t,a,n,o){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Stores.ItemDelete/"+e+"/"+t+"/"+a+"/"+n+"/",type:"GET",success:function(e){"undefined"!=typeof o&&null!=o&&o(e)}})},e.ItemList=function(e,t,a,n){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Stores.ItemList/"+e+"/"+t+"/"+a+"/",type:"GET",success:function(e){"undefined"!=typeof n&&null!=n&&n(e)}})}},HG.Configure.System=HG.Configure.System||new function(){var e=this;e.ServiceCall=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/"+e+"/",type:"GET",success:function(e){"undefined"!=typeof e.ResponseValue&&(e=e.ResponseValue),t(e)}})}},HG.Configure.Widgets=HG.Configure.Widgets||new function(){var e=this;e.List=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Widgets.List/",type:"GET",success:function(t){e(t)}})},e.Save=function(e,t,a,n){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Widgets.Save/"+t+"/"+encodeURIComponent(e),type:"POST",data:a,processData:!1,success:function(e){n&&n(e)},error:function(){n&&n({Status:"Error"})}})},e.Add=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Widgets.Add/"+encodeURIComponent(e),type:"GET",success:function(e){t&&t(e)},error:function(){t&&t({Status:"Error"})}})},e.Delete=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Widgets.Delete/"+encodeURIComponent(e),type:"GET",success:function(e){t&&t(e)},error:function(){t&&t({Status:"Error"})}})},e.Parse=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/Widgets.Parse/",type:"POST",data:e,processData:!1,success:function(e){t&&("undefined"!=typeof e.ResponseValue&&(e.ResponseValue=decodeURIComponent(e.ResponseValue)),t(e))},error:function(){t&&t({ResponseValue:"ERROR"})}})}},HG.Control=HG.Control||{},HG.Control.Modules=HG.Control.Modules||new function(){var e=this;e.ApiCall=function(e,t,a,n,o){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+e+"/"+t+"/"+a+"/"+n+"/",function(e){null!=o&&"undefined"!=typeof o&&o(e)}).fail(function(){"undefined"!=typeof o&&o("")})},e.ServiceCall=function(e,t,a,n,o){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+t+"/"+a+"/"+e+"/"+n+"/",function(e){null!=o&&"undefined"!=typeof o&&o(e)}).fail(function(){"undefined"!=typeof o&&o("")})}},HG.Statistics=HG.Statistics||new function(){var e=this;e.ServiceCall=function(e,t,a,n){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Statistics/"+e+"/"+t+"/"+a,type:"GET",success:function(e){"undefined"!=typeof e.ResponseValue&&(e=e.ResponseValue),n(e)},error:function(e){console.log("HG.Statistics.ServiceCall ERROR: "+e.status+":"+e.statusText),n()}})},e.DatabaseReset=function(){$.get("/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Statistics/Database.Reset/",function(){})},e.SetStatisticsDatabaseMaximumSize=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/Statistics.SetStatisticsDatabaseMaximumSize/"+e+"/",type:"GET",success:function(e){null!=t&&t(e)}})}},HG.System=HG.System||new function(){var e=this;e.GetVersion=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.GetVersion/",type:"GET",success:function(t){null!=e&&e(t)}})},e.SetHttpPort=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/HttpService.SetPort/"+e+"/",type:"GET",success:function(e){null!=t&&t(e)}})},e.SetHostHeader=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/HttpService.SetHostHeader/"+e+"/",type:"GET",success:function(e){null!=t&&t(e)}})},e.SetPassword=function(e,t){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/Security.SetPassword/"+e+"/",type:"GET",success:function(e){null!=t&&t(e)}})},e.ClearPassword=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/Security.ClearPassword/",type:"GET",success:function(t){null!=e&&e(t)}})},e.HasPassword=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/Security.HasPassword/",type:"GET",success:function(t){null!=e&&e(t)}})},e.LoggingEnable=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/SystemLogging.Enable/",type:"GET",success:function(t){null!=e&&e(t)}})},e.LoggingDisable=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/SystemLogging.Disable/",type:"GET",success:function(t){null!=e&&e(t)}})},e.LoggingIsEnabled=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/SystemLogging.IsEnabled/",type:"GET",success:function(t){null!=e&&e(t.ResponseValue)}})},e.WebCacheEnable=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/HttpService.SetWebCacheEnabled/1/",type:"GET",success:function(t){null!=e&&e(t)}})},e.WebCacheDisable=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/HttpService.SetWebCacheEnabled/0/",type:"GET",success:function(t){null!=e&&e(t)}})},e.WebCacheIsEnabled=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/HttpService.GetWebCacheEnabled/",type:"GET",success:function(t){null!=e&&e(t.ResponseValue)}})}},HG.System.UpdateManager=HG.System.UpdateManager||new function(){var e=this;e.UpdateCheck=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/UpdateManager.Check/",type:"GET",success:function(t){null!=e&&e(t)}})},e.GetUpdateList=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/UpdateManager.UpdatesList/",type:"GET",success:function(t){null!=e&&e(t)}})},e.DownloadUpdate=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/UpdateManager.DownloadUpdate/",type:"GET",success:function(t){null!=e&&e(t)}})},e.InstallProgramsList=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/UpdateManager.InstallProgramsList/",type:"GET",success:function(t){null!=e&&e(t)}})},e.InstallUpdate=function(e){$.ajax({url:"/"+HG.WebApp.Data.ServiceKey+"/"+HG.WebApp.Data.ServiceDomain+"/Config/System.Configure/UpdateManager.InstallUpdate/",type:"GET",success:function(t){null!=e&&e(t)}})}},HG.Ui=HG.Ui||new function(){var $$=this;$$._componentQueueCount=0,$$._compomentCache=[];var ParameterType={Status_ColorHsb:"Status.ColorHsb",Program_Status:"Program.Status",Program_UiRefresh:"Program.UiRefresh",Widget_DisplayIcon:"Widget.DisplayIcon",Widget_DisplayModule:"Widget.DisplayModule",Security_Armed:"HomeGenie.SecurityArmed",Security_Triggered:"HomeGenie.SecurityTriggered",VirtualMeter_Watts:"VirtualMeter.Watts",Status_Level:"Status.Level",Status_DoorLock:"Status.DoorLock",Status_Battery:"Status.Battery",Status_Error:"Status.Error",Meter_KwHour:"Meter.KilowattHour",Meter_KvaHour:"Meter.KilovoltAmpereHour",Meter_Watts:"Meter.Watts",Meter_Pulses:"Meter.Pulses",Meter_AcVoltage:"Meter.AcVoltage",Meter_AcCurrent:"Meter.AcCurrent",Sensor_Power:"Sensor.Power",Sensor_Generic:"Sensor.Generic",Sensor_MotionDetect:"Sensor.MotionDetect",Sensor_Temperature:"Sensor.Temperature",Sensor_Luminance:"Sensor.Luminance",Sensor_Humidity:"Sensor.Humidity",Sensor_DoorWindow:"Sensor.DoorWindow",Sensor_Key:"Sensor.Key",Sensor_Alarm:"Sensor.Alarm",Sensor_CarbonMonoxide:"Sensor.CarbonMonoxide",Sensor_CarbonDioxide:"Sensor.CarbonDioxide",Sensor_Smoke:"Sensor.Smoke",Sensor_Heat:"Sensor.Heat",Sensor_Flood:"Sensor.Flood",Sensor_Tamper:"Sensor.Tamper",Receiver_RawData:"Receiver.RawData",Receiver_Status:"Receiver.Status",ZwaveNode_WakeUpSleepingStatus:"ZWaveNode.WakeUpSleepingStatus",Thermostat_Mode:"Thermostat.Mode",Thermostat_OperatingState:"Thermostat.OperatingState",Thermostat_SetPoint_Cooling:"Thermostat.SetPoint.Cooling",Thermostat_SetPoint_Heating:"Thermostat.SetPoint.Heating",Thermostat_FanState:"Thermostat.FanState",Thermostat_FanMode:"Thermostat.FanMode",UPnP_FriendlyName:"UPnP.FriendlyName",UPnP_RendererState_MediaItem:"Widget.State.MediaItem"},ModuleType={Switch:"Switch",Light:"Light",Dimmer:"Dimmer",Sensor:"Sensor",Thermostat:"Thermostat",DoorWindow:"DoorWindow",DoorLock:"DoorLock",Shutter:"Shutter",Siren:"Siren",MediaTransmitter:"MediaTransmitter",MediaReceiver:"MediaReceiver",Program:"Program"};Module={getDoubleValue:function(e){var t=0;try{t=parseFloat(e.toString().replace(",","."))}catch(a){console.log(a)}return t},getFormattedNumber:function(e){return(Math.round(10*this.getDoubleValue(e))/10).toString()}},$$.GenerateWidget=function(fieldType, context, callback){var widgetWrapper=$("<div/>");context.parent.append(widgetWrapper);var options=[];fieldType.indexOf(":")>0&&(options=fieldType.split(":"),fieldType=options[0],options.shift());var cached=!1;return $.each($$._compomentCache,function(k, v){if(v.widget==fieldType){var element=$(v.html),handler=v.json.startsWith("[")?eval(v.json)[0]:eval("new function(){ var $$ = this; "+v.json+" };");return element.one("create",function(){handler.element=element,handler.context=context,setTimeout(function(){callback(handler)},200),handler.init&&handler.init(options),handler.bind&&handler.bind(),widgetWrapper.show()}),widgetWrapper.hide(),widgetWrapper.append(element),element.trigger("create"),cached=!0,!1}}),cached?widgetWrapper:(0==$$._componentQueueCount++&&$.mobile.loading("show"),$.ajax({url:"ui/"+fieldType+".html",dataType:"text",type:"GET",success:function(htmlData){var element=$(htmlData);$.ajax({url:"ui/"+fieldType+".js",dataType:"text",type:"GET",success:function(jsonData){$$._compomentCache.push({widget:fieldType,html:htmlData,json:jsonData});var handler=null;try{handler=jsonData.startsWith("[")?eval(jsonData)[0]:eval("new function(){ var $$ = this; "+jsonData+" };")}catch(e){return console.log(e),void callback(null)}element.one("create",function(){handler.element=element,handler.context=context,callback(handler),handler.init&&handler.init(options),handler.bind&&handler.bind(),widgetWrapper.show()}),widgetWrapper.hide(),widgetWrapper.append(element),element.trigger("create"),0==--$$._componentQueueCount&&$.mobile.loading("hide")},error:function(e){console.log(e),null!=callback&&callback(null)}})},error:function(){null!=callback&&callback(null)}}),widgetWrapper)},$$.GetModuleIcon=function(e, t, a){var n="pages/control/widgets/homegenie/generic/images/unknown.png";if(null!=e&&e.DeviceType&&""!=e.DeviceType&&"undefined"!=e.DeviceType){var o=HG.WebApp.Utility.GetModulePropertyByName(e,ParameterType.Widget_DisplayIcon),i=HG.WebApp.Utility.GetModulePropertyByName(e,ParameterType.Widget_DisplayModule);if(i=null!=i&&""!=i.Value?i.Value:"homegenie/generic/"+e.DeviceType.toLowerCase(),null!=o&&""!=o.Value)n=o.Value;else{if(!e.WidgetInstance||null==e.WidgetInstance||"undefined"==e.WidgetInstance)return HG.WebApp.WidgetsList.GetWidgetIcon(i,a,t),n;n="undefined"!=typeof e.WidgetInstance.widget&&"undefined"!=typeof e.WidgetInstance.widget.icon?e.WidgetInstance.widget.icon:e.WidgetInstance.IconImage}}return null!=t&&t(n,a),n},$$.GetModuleDisplayName=function(e){var t=e.Domain+" "+e.Address;try{t=e.Name,t+=" ("+e.Domain.substring(e.Domain.lastIndexOf(".")+1)+" "+e.Address+")",t=t.trim()}catch(a){}return t},$$.SwitchPopup=function(e,t,a){var n=function(){1==a?setTimeout(function(){$(t).popup("open")},10):setTimeout(function(){$(t).popup("open",{transition:"pop"})},100)};$(e).one("popupafterclose",n),$(e).popup("close")},$$.BlinkAnim=function(e,t){var a="undefined"!=typeof t?2*t:8,n=function(){e.animate({opacity:"toggle"},{duration:250,specialEasing:{width:"easeInOutExpo",height:"easeOutBounce"},complete:function(){--a>0&&n()}})};e.clearQueue(),e.finish(),n()},$$.ScrollTo=function(e,t){$("html, body").animate({scrollTop:$(e).offset().top},t)},$$.SetTheme=function(e){HG.WebApp.Store.set("UI.Theme",e),$(document).find(".ui-page").removeClass("ui-page-theme-a ui-page-theme-b ui-page-theme-c ui-page-theme-d ui-page-theme-e ui-page-theme-f ui-page-theme-g ui-page-theme-h").addClass("ui-page-theme-"+e),$(document).find(".ui-mobile-viewport").removeClass("ui-overlay-a ui-overlay-b ui-overlay-c ui-overlay-d ui-overlay-e ui-overlay-f ui-overlay-g ui-overlay-h").addClass("ui-overlay-"+e),$(document).find(".ui-popup").removeClass("ui-body-a ui-body-b ui-body-c ui-body-d ui-body-e ui-body-f ui-body-g ui-body-h").addClass("ui-body-"+e),$(document).find(".ui-loader").removeClass("ui-body-a ui-body-b ui-body-c ui-body-d ui-body-e ui-body-f ui-body-g ui-body-h").addClass("ui-body-"+e)},$$.EditModule=function(e){HG.WebApp.Control.EditModule(e)},$$.GetParameterContext=function(e,t,a){var n="",o=0,i="",r=!1,u=!1,c=!1,s=!1;try{switch(t){case ParameterType.Status_Level:case ParameterType.Sensor_Generic:case ParameterType.Status_DoorLock:case ParameterType.Sensor_DoorWindow:case ParameterType.Sensor_MotionDetect:c=!0,t==ParameterType.Sensor_MotionDetect||t!=ParameterType.Sensor_DoorWindow&&t!=ParameterType.Status_DoorLock&&(null==e||""==e.DeviceType||e.DeviceType!=ModuleType.DoorWindow&&e.DeviceType!=ModuleType.DoorLock)?0==Module.getDoubleValue(a)?(o="images/indicators/level.png",i="Off"):(o="images/indicators/level.png",i="On",u=!0):0==Module.getDoubleValue(a)?(o="images/indicators/door.png",i="Closed"):(o="images/indicators/door.png",i="Open",u=!0);break;case ParameterType.Sensor_Tamper:case ParameterType.Sensor_Alarm:"0"==a||""==a?(o="images/indicators/alarm.png",i="Normal"):(o="images/indicators/alarm.png",i="Tampered");break;case ParameterType.Status_Battery:var p=parseInt(a);i=p+"%",5>=p?o="pages/control/widgets/homegenie/generic/images/battery_level_0.png":p>5&&10>=p?o="pages/control/widgets/homegenie/generic/images/battery_level_10.png":p>10&&20>=p?o="pages/control/widgets/homegenie/generic/images/battery_level_20.png":p>20&&40>=p?o="pages/control/widgets/homegenie/generic/images/battery_level_40.png":p>40&&60>=p?o="pages/control/widgets/homegenie/generic/images/battery_level_60.png":p>60&&80>=p?o="pages/control/widgets/homegenie/generic/images/battery_level_80.png":p>80&&(o="pages/control/widgets/homegenie/generic/images/battery_level_100.png"),r=!0;break;case ParameterType.Meter_Watts:case ParameterType.Meter_KwHour:case ParameterType.Meter_KvaHour:case ParameterType.Meter_Pulses:case ParameterType.Meter_AcVoltage:case ParameterType.Meter_AcCurrent:case ParameterType.Sensor_Power:i=Module.getFormattedNumber(a),o="images/indicators/energy.png";break;case ParameterType.Sensor_Temperature:if("Fahrenheit"==HG.WebApp.Locales.GetTemperatureUnit()){var l=Module.getDoubleValue(a);l=1.8*l+32,i=Module.getFormattedNumber(l)}else i=Module.getFormattedNumber(a);i+="&deg;",o="images/indicators/temperature.png";break;case ParameterType.Sensor_Luminance:i=Module.getFormattedNumber(a),o="images/indicators/luminance.png";break;case ParameterType.Sensor_Humidity:i=Module.getFormattedNumber(a),o="images/indicators/humidity.png";break;case ParameterType.Sensor_Flood:i=Module.getFormattedNumber(a),o="images/indicators/flood.png";break;case ParameterType.Sensor_CarbonMonoxide:case ParameterType.Sensor_CarbonDioxide:case ParameterType.Sensor_Smoke:case ParameterType.Sensor_Heat:i=Module.getFormattedNumber(a),o="images/indicators/smoke.png";break;case ParameterType.Sensor_Key:case ParameterType.Receiver_RawData:case ParameterType.Receiver_Status:i=a,o="images/indicators/generic.png";break;case ParameterType.Status_Error:r=!0,i=$.isNumeric(a)?Module.getFormattedNumber(a):a,o="images/indicators/alarm.png";break;default:i=$.isNumeric(a)?Module.getFormattedNumber(a):a,o="images/indicators/generic.png",s=!0}}catch(d){console.log(d)}var f={displayName:t.indexOf(".")>0&&t.length>1&&""==n?t.substring(t.indexOf(".")+1):n,iconImage:o,valueText:i,isStatusParameter:c,hasActiveStatus:u,canBeHidden:r,isUnknown:s};return f}},HG.Ui.Popup=HG.Ui.Popup||{},eval("hg = {}; hg.ui =  HG.Ui;"),HG.Ui.CreatePage=function(e,t){var a=e;a._fieldCache=[],a.PageId=a.pageId=t,a.getContainer=function(){return"undefined"==typeof a.container&&(a.container=$("#"+a.pageId)),a.container},a.field=function(e,t){var n=t?"@"+e:e,o=null;return"undefined"==typeof a._fieldCache[n]?(o=t?$(e):a.container.find("[data-ui-field="+e+"]"),o.length&&(a._fieldCache[n]=o)):o=a._fieldCache[n],o},a.clearCache=function(){var e=a._fieldCache;for(var t in e)e.hasOwnProperty(t)&&delete e[t];a._fieldCache=[]}};var recognition=null,final_transcript="";HG.VoiceControl=HG.VoiceControl||new function(){var e=this;e.CurrentInput="",e.LingoData=[],e.Initialize=function(){var t=HG.WebApp.Locales.GetUserLanguage();e.Localize("./locales/"+t.toLowerCase().substring(0,2)+".lingo.json",function(t){t?e.Setup():e.Localize("./locales/en.lingo.json",function(){e.Setup()})})},e.Setup=function(){"webkitSpeechRecognition"in window?(recognition=new webkitSpeechRecognition,recognition.continuous=!1,recognition.interimResults=!1,recognition.onstart=function(){$("#voicerecognition_button").addClass("ui-disabled")},recognition.onresult=function(e){var t="";if("undefined"==typeof e.results)return $("#speechinput").hide(),recognition.onend=null,void recognition.stop();for(var a=e.resultIndex;a<e.results.length;++a)e.results[a].isFinal?final_transcript+=e.results[a][0].transcript:t+=e.results[a][0].transcript},recognition.onerror=function(e){$("#voicerecognition_button").removeClass("ui-disabled"),alert("Voice Recognition Error: "+e)},recognition.onend=function(){$("#voicerecognition_text").val(final_transcript),$("#voicerecognition_button").removeClass("ui-disabled"),e.InterpretInput(final_transcript),final_transcript=""}):$("#voicerecognition_button").addClass("ui-disabled")},e.Localize=function(t,a){$.ajax({url:t,type:"GET",success:function(t){e.LingoData=$.parseJSON(t),a(!0)},failure:function(){a(!1)}})},e.InterpretInput=function(t){e.CurrentInput=t,e.ParseNext()},e.ParseNext=function(){var a=e.SearchCommandMatch(!1),n=e.SearchCommandMatch(!0),o=e.SearchTypeMatch(!1),i=e.SearchGroupMatch(n.StartIndex);if(i=-1!=i?HG.WebApp.Data.Groups[i].Name:"",""!=a&&""!=o){var r=o.split(","),u={};for(u=""!=i?HG.Configure.Groups.GetGroupModules(i).Modules:HG.WebApp.Data.Modules,m=0;m<u.length;m++){var c=u[m];for(t=0;t<r.length;t++)"undefined"!=typeof c.DeviceType&&r[t].toLowerCase()==c.DeviceType.toLowerCase()&&(HG.Control.Modules.ServiceCall(a,c.Domain,c.Address,""),setTimeout(e.ParseNext,50))}}else{var c=e.SearchSubjectMatch(i,n.StartIndex);""!=a&&(HG.Control.Modules.ServiceCall(a,c.Domain,c.Address,""),setTimeout(e.ParseNext,50))}},e.SearchTypeMatch=function(t){var a="",n={Words:"",StartIndex:-1};for(s=0;s<e.LingoData.Types.length;s++)for(c=0;c<e.LingoData.Types[s].Aliases.length;c++){var o=e.FindMatchingInput(e.LingoData.Types[s].Aliases[c]);-1!=o.StartIndex&&(o.StartIndex<n.StartIndex||-1==n.StartIndex)&&(a=e.LingoData.Types[s].Type,n=o)}return t?n:(-1!=n.StartIndex&&e.RemoveInputMatch(n),a)},e.SearchCommandMatch=function(t){var a="",n={Words:"",StartIndex:-1};for(s=0;s<e.LingoData.Commands.length;s++)for(c=0;c<e.LingoData.Commands[s].Aliases.length;c++){var o=e.FindMatchingInput(e.LingoData.Commands[s].Aliases[c]);-1!=o.StartIndex&&(o.StartIndex<n.StartIndex||-1==n.StartIndex)&&(a=e.LingoData.Commands[s].Command,n=o)}return t?n:(-1!=n.StartIndex&&e.RemoveInputMatch(n),a)},e.SearchGroupMatch=function(t){var a=-1,n={Words:"",StartIndex:-1};for(i=0;i<HG.WebApp.Data.Groups.length;i++){var o=e.FindMatchingInput(HG.WebApp.Data.Groups[i].Name);-1!=o.StartIndex&&(o.StartIndex<t||-1==t)&&(o.StartIndex<n.StartIndex||-1==n.StartIndex)&&(a=i,n=o)}return-1!=n.StartIndex&&e.RemoveInputMatch(n),a},e.SearchSubjectMatch=function(t,a){var n={},o={};o=""!=t?HG.Configure.Groups.GetGroupModules(t).Modules:HG.WebApp.Data.Modules;var i={Words:"",StartIndex:-1};for(m=0;m<o.length;m++){var r=o[m],u=e.FindMatchingInput(r.Name);-1==u.StartIndex&&(u=e.FindMatchingInput(r.Address)),-1!=u.StartIndex&&u.Words.length>=i.Words.length&&(u.StartIndex<a||-1==a)&&(u.StartIndex<=i.StartIndex||-1==i.StartIndex)&&(n=r,i=u)}return-1!=i.StartIndex&&e.RemoveInputMatch(i),n},e.SearchArgumentValueMatch=function(){},e.RemoveInputMatch=function(t){t.StartIndex>-1&&t.Words.length>0&&(e.CurrentInput=e.CurrentInput.substring(0,t.StartIndex)+" "+e.CurrentInput.substring(t.StartIndex+t.Words.length-1))},e.FindMatchingInput=function(t){if(t&&""!=t&&"undefined"!=t){t=" "+t.toLowerCase()+" ";var a=(" "+e.CurrentInput.toLowerCase()+" ").indexOf(t);if(a>=0){var n={Words:t,StartIndex:a};return n}}return{Words:t,StartIndex:-1}}};